@model IEnumerable<TutorApplication.Models.Tutorregi>

@{
    ViewBag.Title = "Teachers";
}
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .down{
        display:flex;
        justify-content:center;
        align-items:center;
        gap:1rem
    }
    .iny{
        width:40rem;
        padding:0.2rem 2rem;
    }
</style>
<h2>Teachers</h2>

<div id="Loder" style="display: none;margin-top:25rem" align="center">
    <img src="~/myImg/LoadGif.gif" alt="loder" height="100" width="100"  class="hpc"/>
</div>

@using (Ajax.BeginForm("Teachers", "Home", new AjaxOptions()
{
    HttpMethod = "POST",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "divUpdate",
    LoadingElementId="Loder",
}))

{
    <div class="down" style="margin:3rem 0rem" >
        
        <input type="text" class="iny" name="q" placeholder="Search with Name/Subject"/>
        <input type="submit" value="search" />
    </div>

}
<div id="divUpdate">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Image)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Fullname)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.degree)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.qualification)
            </th>
        </tr>

        @if (Model.Count() == 0)
        {
            <tr>
                <td colspan="4">
                    No Rows Found...
                </td>
            </tr>
        }
        else
        {
            foreach (var item in Model)
            {
                <tr>
                    <td>
                        <img src="@Url.Content(item.Image)" height="60" width="60" style="border-radius:50%" />
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Fullname)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.degree)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.email)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.qualification)
                    </td>
                    <td>

                        @Html.ActionLink("Details", "Details", new { id = item.Id })

                    </td>
                </tr>
            }
        }
        <tr>
            <td colspan="7" align="center">
                @Ajax.ActionLink("Load More Data", "Teachers","Home",
               new AjaxOptions()
               {
                   HttpMethod="POST",
                   InsertionMode=InsertionMode.Replace,
                   UpdateTargetId= "divUpdate",
                   LoadingElementId="Loader"
               },
               new {@class="btn btn-info"}
               )
            </td>
        </tr>
    </table>
</div>


<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>